import{a as Kt}from"./chunk-TJM3QRDM.js";import{a as Zt}from"./chunk-DSQ3UL7H.js";import{a as Qt,b as zt,c as $t}from"./chunk-55V4HHK3.js";import{a as gt,b as Ft,c as z,d as Bt,e as Ne,f as Pt,g as Fe,h as Ht,i as Yt,k as At,o as Lt,p as Ut,s as Ee}from"./chunk-FTDH4D5C.js";import{a as Oe}from"./chunk-SR5OL73C.js";import{d as Et,i as Ce,j as Be}from"./chunk-LO6GVN5M.js";import{h as je,i as Pe}from"./chunk-SD5ULMK3.js";import{$a as Wt,Aa as It,Da as jt,H as N,Oa as he,P as kt,Ra as Mt,Ta as wt,Wa as Rt,Ya as $,a as Re,ab as _t,b as I,bb as Nt,fb as _e,ga as qe,h as ht,ia as ge,ja as Tt,mb as Ie,r as vt,sa as Ot,t as yt,u as bt,v as Dt,va as Ct,w as St,wa as We}from"./chunk-Y5EMNB45.js";import"./chunk-UMBFZAT7.js";import"./chunk-R42GCTHV.js";import{a as La}from"./chunk-WJABE3AS.js";import"./chunk-IA5P3YQN.js";import{a as xe}from"./chunk-ZUGU5IHP.js";import"./chunk-NXH6K27G.js";import"./chunk-4Y2NHA3G.js";import"./chunk-IHSADOYH.js";import"./chunk-HP25GDQW.js";import{a as ie}from"./chunk-2OZ4JKVY.js";import{b as P}from"./chunk-IRKXFVRU.js";import{a as l,e as S}from"./chunk-SDY2POXP.js";var qt=S(P());function Gt(t){var o=qt.useState(t),e=o[0],a=o[1],r=z(function(){return function(){a(!0)}}),n=z(function(){return function(){a(!1)}}),s=z(function(){return function(){a(function(f){return!f})}});return[e,{setTrue:r,setFalse:n,toggle:s}]}l(Gt,"useBoolean");var Xt=S(P());var Vt=l(function(){var t=z({});return Xt.useEffect(function(){return function(){for(var o=0,e=Object.keys(t);o<e.length;o++){var a=e[o];clearTimeout(a)}}},[t]),z({setTimeout:function(o,e){var a=setTimeout(o,e);return t[a]=1,a},clearTimeout:function(o){delete t[o],clearTimeout(o)}})},"useSetTimeout");var He=S(P()),Jt=l(function(t){var o=He.useRef(t);o.current=t,He.useEffect(function(){return function(){var e;(e=o.current)===null||e===void 0||e.call(o)}},[])},"useUnmount");var C=S(P());var Ge={"9":/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};function Xe(t,o){if(o===void 0&&(o=Ge),!t)return[];for(var e=[],a=0,r=0;r+a<t.length;r++){var n=t.charAt(r+a);if(n==="\\")a++;else{var s=o[n];s&&e.push({displayIndex:r,format:s})}}return e}l(Xe,"parseMask");function Ye(t,o,e){var a=t;if(!a)return"";a=a.replace(/\\/g,"");var r=0;o.length>0&&(r=o[0].displayIndex-1);for(var n=0,s=o;n<s.length;n++){var f=s[n],d=" ";f.value?(d=f.value,f.displayIndex>r&&(r=f.displayIndex)):e&&(d=e),a=a.slice(0,f.displayIndex)+d+a.slice(f.displayIndex+1)}return e||(a=a.slice(0,r+1)),a}l(Ye,"getMaskDisplay");function Ve(t,o){for(var e=0;e<t.length;e++)if(t[e].displayIndex>=o)return t[e].displayIndex;return t[t.length-1].displayIndex}l(Ve,"getRightFormatIndex");function ea(t,o){for(var e=t.length-1;e>=0;e--)if(t[e].displayIndex<o)return t[e].displayIndex;return t[0].displayIndex}l(ea,"getLeftFormatIndex");function Ae(t,o,e){for(var a=0;a<t.length;a++)if(t[a].displayIndex>=o){if(t[a].displayIndex>=o+e)break;t[a].value=void 0}return t}l(Ae,"clearRange");function ta(t,o){for(var e=0;e<t.length;e++)if(t[e].displayIndex>=o){t[e].value=void 0;break}return t}l(ta,"clearNext");function aa(t,o){for(var e=t.length-1;e>=0;e--)if(t[e].displayIndex<o){t[e].value=void 0;break}return t}l(aa,"clearPrev");function Le(t,o,e){for(var a=0,r=0,n=!1,s=0;s<t.length&&a<e.length;s++)if(t[s].displayIndex>=o)for(n=!0,r=t[s].displayIndex;a<e.length;){if(t[s].format.test(e.charAt(a))){t[s].value=e.charAt(a++),s+1<t.length?r=t[s+1].displayIndex:r++;break}a++}return n?r:o}l(Le,"insertString");var Ua="MaskedTextField",Ka=l(function(t,o,e){C.useImperativeHandle(t,function(){return{get value(){for(var a="",r=0;r<o.maskCharData.length;r++){if(!o.maskCharData[r].value)return;a+=o.maskCharData[r].value}return a},get selectionStart(){return e.current&&e.current.selectionStart!==null?e.current.selectionStart:-1},get selectionEnd(){return e.current&&e.current.selectionEnd?e.current.selectionEnd:-1},focus:function(){e.current&&e.current.focus()},blur:function(){e.current&&e.current.blur()},select:function(){e.current&&e.current.select()},setSelectionStart:function(a){e.current&&e.current.setSelectionStart(a)},setSelectionEnd:function(a){e.current&&e.current.setSelectionEnd(a)},setSelectionRange:function(a,r){e.current&&e.current.setSelectionRange(a,r)}}},[o,e])},"useComponentRef"),Qa="_",Je=C.forwardRef(function(t,o){var e=C.useRef(null),a=t.componentRef,r=t.onFocus,n=t.onBlur,s=t.onMouseDown,f=t.onMouseUp,d=t.onChange,b=t.onPaste,m=t.onKeyDown,u=t.mask,O=t.maskChar,y=O===void 0?Qa:O,g=t.maskFormat,w=g===void 0?Ge:g,R=t.value,i=z(function(){return{maskCharData:Xe(u,w),isFocused:!1,moveCursorOnMouseUp:!1,changeSelectionData:null}}),E=C.useState(),W=E[0],q=E[1],X=C.useState(function(){return Ye(u,i.maskCharData,y)}),Y=X[0],A=X[1],V=C.useCallback(function(h){for(var p=0,j=0;p<h.length&&j<i.maskCharData.length;){var F=h[p];i.maskCharData[j].format.test(F)&&(i.maskCharData[j].value=F,j++),p++}},[i]),U=C.useCallback(function(h){r==null||r(h),i.isFocused=!0;for(var p=0;p<i.maskCharData.length;p++)if(!i.maskCharData[p].value){q(i.maskCharData[p].displayIndex);break}},[i,r]),J=C.useCallback(function(h){n==null||n(h),i.isFocused=!1,i.moveCursorOnMouseUp=!0},[i,n]),_=C.useCallback(function(h){s==null||s(h),i.isFocused||(i.moveCursorOnMouseUp=!0)},[i,s]),M=C.useCallback(function(h){if(f==null||f(h),i.moveCursorOnMouseUp){i.moveCursorOnMouseUp=!1;for(var p=0;p<i.maskCharData.length;p++)if(!i.maskCharData[p].value){q(i.maskCharData[p].displayIndex);break}}},[i,f]),ee=C.useCallback(function(h,p){if(i.changeSelectionData===null&&e.current&&(i.changeSelectionData={changeType:"default",selectionStart:e.current.selectionStart!==null?e.current.selectionStart:-1,selectionEnd:e.current.selectionEnd!==null?e.current.selectionEnd:-1}),!!i.changeSelectionData){var j=0,F=i.changeSelectionData,B=F.changeType,k=F.selectionStart,oe=F.selectionEnd;if(B==="textPasted"){var ue=oe-k,L=p.length+ue-Y.length,K=k,ke=p.substr(K,L);ue&&(i.maskCharData=Ae(i.maskCharData,k,ue)),j=Le(i.maskCharData,K,ke)}else if(B==="delete"||B==="backspace"){var we=B==="delete",L=oe-k;L?(i.maskCharData=Ae(i.maskCharData,k,L),j=Ve(i.maskCharData,k)):we?(i.maskCharData=ta(i.maskCharData,k),j=Ve(i.maskCharData,k)):(i.maskCharData=aa(i.maskCharData,k),j=ea(i.maskCharData,k))}else if(p.length>Y.length){var L=p.length-Y.length,K=oe-L,ce=p.substr(K,L);j=Le(i.maskCharData,K,ce)}else if(p.length<=Y.length){var L=1,$e=Y.length+L-p.length,K=oe-L,ce=p.substr(K,L);i.maskCharData=Ae(i.maskCharData,K,$e),j=Le(i.maskCharData,K,ce)}i.changeSelectionData=null;var Te=Ye(u,i.maskCharData,y);A(Te),q(j),d==null||d(h,Te)}},[Y.length,i,u,y,d]),de=C.useCallback(function(h){if(m==null||m(h),i.changeSelectionData=null,e.current&&e.current.value){var p=h.keyCode,j=h.ctrlKey,F=h.metaKey;if(j||F)return;if(p===N.backspace||p===N.del){var B=h.target.selectionStart,k=h.target.selectionEnd;if(!(p===N.backspace&&k&&k>0)&&!(p===N.del&&B!==null&&B<e.current.value.length))return;i.changeSelectionData={changeType:p===N.backspace?"backspace":"delete",selectionStart:B!==null?B:-1,selectionEnd:k!==null?k:-1}}}},[i,m]),fe=C.useCallback(function(h){b==null||b(h);var p=h.target.selectionStart,j=h.target.selectionEnd;i.changeSelectionData={changeType:"textPasted",selectionStart:p!==null?p:-1,selectionEnd:j!==null?j:-1}},[i,b]);return C.useEffect(function(){i.maskCharData=Xe(u,w),R!==void 0&&V(R),A(Ye(u,i.maskCharData,y))},[u,R]),C.useLayoutEffect(function(){W!==void 0&&e.current&&e.current.setSelectionRange(W,W)},[W]),C.useEffect(function(){i.isFocused&&W!==void 0&&e.current&&e.current.setSelectionRange(W,W)}),Ka(a,i,e),C.createElement(Be,I({},t,{elementRef:o,onFocus:U,onBlur:J,onMouseDown:_,onMouseUp:M,onChange:ee,onKeyDown:de,onPaste:fe,value:Y||"",componentRef:e}))});Je.displayName=Ua;var v=S(P());var et=wt.durationValue2,za={root:"ms-Modal",main:"ms-Dialog-main",scrollableContent:"ms-Modal-scrollableContent",isOpen:"is-open",layer:"ms-Modal-Layer"},oa=l(function(t){var o,e=t.className,a=t.containerClassName,r=t.scrollableContentClassName,n=t.isOpen,s=t.isVisible,f=t.hasBeenOpened,d=t.modalRectangleTop,b=t.theme,m=t.topOffsetFixed,u=t.isModeless,O=t.layerClassName,y=t.isDefaultDragHandle,g=t.windowInnerHeight,w=b.palette,R=b.effects,i=b.fonts,E=_e(za,b);return{root:[E.root,i.medium,{backgroundColor:"transparent",position:u?"absolute":"fixed",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,pointerEvents:"none",transition:"opacity "+et},m&&typeof d=="number"&&f&&{alignItems:"flex-start"},n&&E.isOpen,s&&{opacity:1,pointerEvents:"auto"},e],main:[E.main,{boxShadow:R.elevation64,borderRadius:R.roundedCorner2,backgroundColor:w.white,boxSizing:"border-box",position:"relative",textAlign:"left",outline:"3px solid transparent",maxHeight:"calc(100% - 32px)",maxWidth:"calc(100% - 32px)",minHeight:"176px",minWidth:"288px",overflowY:"auto",zIndex:u?_t.Layer:void 0},m&&typeof d=="number"&&f&&{top:d},y&&{cursor:"move"},a],scrollableContent:[E.scrollableContent,{overflowY:"auto",flexGrow:1,maxHeight:"100vh",selectors:(o={},o["@supports (-webkit-overflow-scrolling: touch)"]={maxHeight:g},o)},r],layer:u&&[O,E.layer,{position:"static",width:"unset",height:"unset"}],keyboardMoveIconContainer:{position:"absolute",display:"flex",justifyContent:"center",width:"100%",padding:"3px 0px"},keyboardMoveIcon:{fontSize:i.xLargePlus.fontSize,width:"24px"}}},"getStyles");var Ue=S(P());var $a=ge(),ra=function(t){Re(o,t);function o(e){var a=t.call(this,e)||this;It(a);var r=a.props.allowTouchBodyScroll,n=r===void 0?!1:r;return a._allowTouchBodyScroll=n,a}return l(o,"OverlayBase"),o.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&Dt()},o.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&St()},o.prototype.render=function(){var e=this.props,a=e.isDarkThemed,r=e.className,n=e.theme,s=e.styles,f=We(this.props,Ct),d=$a(s,{theme:n,className:r,isDark:a});return Ue.createElement("div",I({},f,{className:d.root}))},o}(Ue.Component);var Za={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},sa=l(function(t){var o,e=t.className,a=t.theme,r=t.isNone,n=t.isDark,s=a.palette,f=_e(Za,a);return{root:[f.root,a.fonts.medium,{backgroundColor:s.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(o={},o[$]={border:"1px solid WindowText",opacity:0},o)},r&&{visibility:"hidden"},n&&[f.rootDark,{backgroundColor:s.blackTranslucent40}],e]}},"getStyles");var na=he(ra,sa,void 0,{scope:"Overlay"});var Z=S(P());var ia=Tt(function(t,o){return{root:ht(t,o&&{touchAction:"none",selectors:{"& *":{userSelect:"none"}}})}});var Me={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},la=function(t){Re(o,t);function o(e){var a=t.call(this,e)||this;return a._currentEventType=Me.mouse,a._events=[],a._onMouseDown=function(r){var n=Z.Children.only(a.props.children).props.onMouseDown;return n&&n(r),a._currentEventType=Me.mouse,a._onDragStart(r)},a._onMouseUp=function(r){var n=Z.Children.only(a.props.children).props.onMouseUp;return n&&n(r),a._currentEventType=Me.mouse,a._onDragStop(r)},a._onTouchStart=function(r){var n=Z.Children.only(a.props.children).props.onTouchStart;return n&&n(r),a._currentEventType=Me.touch,a._onDragStart(r)},a._onTouchEnd=function(r){var n=Z.Children.only(a.props.children).props.onTouchEnd;n&&n(r),a._currentEventType=Me.touch,a._onDragStop(r)},a._onDragStart=function(r){if(typeof r.button=="number"&&r.button!==0)return!1;if(!(a.props.handleSelector&&!a._matchesSelector(r.target,a.props.handleSelector)||a.props.preventDragSelector&&a._matchesSelector(r.target,a.props.preventDragSelector))){a._touchId=a._getTouchId(r);var n=a._getControlPosition(r);if(n!==void 0){var s=a._createDragDataFromPosition(n);a.props.onStart&&a.props.onStart(r,s),a.setState({isDragging:!0,lastPosition:n}),a._events=[qe(document.body,a._currentEventType.move,a._onDrag,!0),qe(document.body,a._currentEventType.stop,a._onDragStop,!0)]}}},a._onDrag=function(r){r.type==="touchmove"&&r.preventDefault();var n=a._getControlPosition(r);if(!!n){var s=a._createUpdatedDragData(a._createDragDataFromPosition(n)),f=s.position;a.props.onDragChange&&a.props.onDragChange(r,s),a.setState({position:f,lastPosition:n})}},a._onDragStop=function(r){if(!!a.state.isDragging){var n=a._getControlPosition(r);if(!!n){var s=a._createDragDataFromPosition(n);a.setState({isDragging:!1,lastPosition:void 0}),a.props.onStop&&a.props.onStop(r,s),a.props.position&&a.setState({position:a.props.position}),a._events.forEach(function(f){return f()})}}},a.state={isDragging:!1,position:a.props.position||{x:0,y:0},lastPosition:void 0},a}return l(o,"DraggableZone"),o.prototype.componentDidUpdate=function(e){this.props.position&&(!e.position||this.props.position!==e.position)&&this.setState({position:this.props.position})},o.prototype.componentWillUnmount=function(){this._events.forEach(function(e){return e()})},o.prototype.render=function(){var e=Z.Children.only(this.props.children),a=e.props,r=this.props.position,n=this.state,s=n.position,f=n.isDragging,d=s.x,b=s.y;return r&&!f&&(d=r.x,b=r.y),Z.cloneElement(e,{style:I(I({},a.style),{transform:"translate("+d+"px, "+b+"px)"}),className:ia(a.className,this.state.isDragging).root,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd})},o.prototype._getControlPosition=function(e){var a=this._getActiveTouch(e);if(!(this._touchId!==void 0&&!a)){var r=a||e;return{x:r.clientX,y:r.clientY}}},o.prototype._getActiveTouch=function(e){return e.targetTouches&&this._findTouchInTouchList(e.targetTouches)||e.changedTouches&&this._findTouchInTouchList(e.changedTouches)},o.prototype._getTouchId=function(e){var a=e.targetTouches&&e.targetTouches[0]||e.changedTouches&&e.changedTouches[0];if(a)return a.identifier},o.prototype._matchesSelector=function(e,a){if(!e||e===document.body)return!1;var r=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return r?r.call(e,a)||this._matchesSelector(e.parentElement,a):!1},o.prototype._findTouchInTouchList=function(e){if(this._touchId!==void 0){for(var a=0;a<e.length;a++)if(e[a].identifier===this._touchId)return e[a]}},o.prototype._createDragDataFromPosition=function(e){var a=this.state.lastPosition;return a===void 0?{delta:{x:0,y:0},lastPosition:e,position:e}:{delta:{x:e.x-a.x,y:e.y-a.y},lastPosition:a,position:e}},o.prototype._createUpdatedDragData=function(e){var a=this.state.position;return{position:{x:a.x+e.delta.x,y:a.y+e.delta.y},delta:e.delta,lastPosition:a}},o}(Z.Component);var ve={x:0,y:0},qa={isOpen:!1,isDarkOverlay:!0,className:"",containerClassName:""},Ga=ge(),Xa=l(function(t){var o=10;return t.shiftKey?t.ctrlKey||(o=50):t.ctrlKey&&(o=1),o},"getMoveDelta"),Va=l(function(t,o){v.useImperativeHandle(t.componentRef,function(){return{focus:function(){o.current&&o.current.focus()}}},[o])},"useComponentRef"),tt=v.forwardRef(function(t,o){var e=Mt(qa,t),a=e.allowTouchBodyScroll,r=e.className,n=e.children,s=e.containerClassName,f=e.scrollableContentClassName,d=e.elementToFocusOnDismiss,b=e.firstFocusableSelector,m=e.forceFocusInsideTrap,u=e.ignoreExternalFocusing,O=e.isBlocking,y=e.isAlert,g=e.isClickableOutsideFocusTrap,w=e.isDarkOverlay,R=e.onDismiss,i=e.layerProps,E=e.overlay,W=e.isOpen,q=e.titleAriaId,X=e.styles,Y=e.subtitleAriaId,A=e.theme,V=e.topOffsetFixed,U=e.responsiveMode,J=e.onLayerDidMount,_=e.isModeless,M=e.dragOptions,ee=e.onDismissed,de=e.enableAriaHiddenSiblings,fe=v.useRef(null),h=v.useRef(null),p=v.useRef(null),j=Et(fe,o),F=Ut(j),B=Ne("ModalFocusTrapZone"),k=Pt(),oe=Vt(),ue=oe.setTimeout,L=oe.clearTimeout,K=v.useState(W),ke=K[0],we=K[1],ce=v.useState(W),$e=ce[0],Te=ce[1],lt=v.useState(ve),dt=lt[0],re=lt[1],ft=v.useState(),ja=ft[0],Ma=ft[1],ut=Gt(!1),ct=ut[0],mt=ut[1],wa=mt.toggle,me=mt.setFalse,c=z(function(){return{onModalCloseTimer:0,allowTouchBodyScroll:a,scrollableContent:null,lastSetCoordinates:ve,events:new vt({})}}),Ze=(M||{}).keepInBounds,Ra=y??(O&&!_),Wa=i===void 0?"":i.className,pe=Ga(X,{theme:A,className:r,containerClassName:s,scrollableContentClassName:f,isOpen:W,isVisible:$e,hasBeenOpened:c.hasBeenOpened,modalRectangleTop:ja,topOffsetFixed:V,isModeless:_,layerClassName:Wa,windowInnerHeight:k==null?void 0:k.innerHeight,isDefaultDragHandle:M&&!M.dragHandleSelector}),_a=I(I({eventBubblingEnabled:!1},i),{onLayerDidMount:i&&i.onLayerDidMount?i.onLayerDidMount:J,insertFirst:_,className:pe.layer}),Na=v.useCallback(function(T){T?c.allowTouchBodyScroll?bt(T,c.events):yt(T,c.events):c.events.off(c.scrollableContent),c.scrollableContent=T},[c]),Fa=l(function(){var T=p.current,x=T==null?void 0:T.getBoundingClientRect();x&&(V&&Ma(x.top),Ze&&(c.minPosition={x:-x.left,y:-x.top},c.maxPosition={x:x.left,y:x.top}))},"registerInitialModalPosition"),se=v.useCallback(function(T,x){var te=c.minPosition,ne=c.maxPosition;return Ze&&te&&ne&&(x=Math.max(te[T],x),x=Math.min(ne[T],x)),x},[Ze,c]),pt=l(function(){var T;c.lastSetCoordinates=ve,me(),c.isInKeyboardMoveMode=!1,we(!1),re(ve),(T=c.disposeOnKeyUp)===null||T===void 0||T.call(c),ee==null||ee()},"handleModalClose"),Ba=v.useCallback(function(){me(),c.isInKeyboardMoveMode=!1},[c,me]),Ea=v.useCallback(function(T,x){re(function(te){return{x:se("x",te.x+x.delta.x),y:se("y",te.y+x.delta.y)}})},[se]),Pa=v.useCallback(function(){h.current&&h.current.focus()},[]),Ha=l(function(){var T=l(function(x){if(x.altKey&&x.ctrlKey&&x.keyCode===N.space){x.preventDefault(),x.stopPropagation();return}if(ct&&(x.altKey||x.keyCode===N.escape)&&me(),c.isInKeyboardMoveMode&&(x.keyCode===N.escape||x.keyCode===N.enter)&&(c.isInKeyboardMoveMode=!1,x.preventDefault(),x.stopPropagation()),c.isInKeyboardMoveMode){var te=!0,ne=Xa(x);switch(x.keyCode){case N.escape:re(c.lastSetCoordinates);case N.enter:{c.lastSetCoordinates=ve;break}case N.up:{re(function(Q){return{x:Q.x,y:se("y",Q.y-ne)}});break}case N.down:{re(function(Q){return{x:Q.x,y:se("y",Q.y+ne)}});break}case N.left:{re(function(Q){return{x:se("x",Q.x-ne),y:Q.y}});break}case N.right:{re(function(Q){return{x:se("x",Q.x+ne),y:Q.y}});break}default:te=!1}te&&(x.preventDefault(),x.stopPropagation())}},"handleKeyDown");c.lastSetCoordinates=dt,me(),c.isInKeyboardMoveMode=!0,c.events.on(k,"keydown",T,!0),c.disposeOnKeyDown=function(){c.events.off(k,"keydown",T,!0),c.disposeOnKeyDown=void 0}},"handleEnterKeyboardMoveMode"),Ya=l(function(){var T;c.lastSetCoordinates=ve,c.isInKeyboardMoveMode=!1,(T=c.disposeOnKeyDown)===null||T===void 0||T.call(c)},"handleExitKeyboardMoveMode"),Aa=l(function(){var T=l(function(x){x.altKey&&x.ctrlKey&&x.keyCode===N.space&&kt(c.scrollableContent,x.target)&&(wa(),x.preventDefault(),x.stopPropagation())},"handleKeyUp");c.disposeOnKeyUp||(c.events.on(k,"keyup",T,!0),c.disposeOnKeyUp=function(){c.events.off(k,"keyup",T,!0),c.disposeOnKeyUp=void 0})},"registerForKeyUp");v.useEffect(function(){L(c.onModalCloseTimer),W&&(requestAnimationFrame(function(){return ue(Fa,0)}),we(!0),M&&Aa(),c.hasBeenOpened=!0,Te(!0)),!W&&ke&&(c.onModalCloseTimer=ue(pt,parseFloat(et)*1e3),Te(!1))},[ke,W]),Jt(function(){c.events.dispose()}),Va(e,h),Ja(e);var xt=v.createElement(At,{id:B,ref:p,componentRef:h,className:pe.main,elementToFocusOnDismiss:d,isClickableOutsideFocusTrap:_||g||!O,ignoreExternalFocusing:u,forceFocusInsideTrap:_?!_:m,firstFocusableSelector:b,focusPreviouslyFocusedInnerElement:!0,onBlur:c.isInKeyboardMoveMode?Ya:void 0,enableAriaHiddenSiblings:de},M&&c.isInKeyboardMoveMode&&v.createElement("div",{className:pe.keyboardMoveIconContainer},M.keyboardMoveIconProps?v.createElement(Ce,I({},M.keyboardMoveIconProps)):v.createElement(Ce,{iconName:"move",className:pe.keyboardMoveIcon})),v.createElement("div",{ref:Na,className:pe.scrollableContent,"data-is-scrollable":!0},M&&ct&&v.createElement(M.menu,{items:[{key:"move",text:M.moveMenuItemText,onClick:Ha},{key:"close",text:M.closeMenuItemText,onClick:pt}],onDismiss:me,alignTargetEdge:!0,coverTarget:!0,directionalHint:Ft.topLeftEdge,directionalHintFixed:!0,shouldFocusOnMount:!0,target:c.scrollableContent}),n));return ke&&F>=(U||Lt.small)&&v.createElement(Yt,I({ref:j},_a),v.createElement(Ht,{role:Ra?"alertdialog":"dialog","aria-modal":!_,ariaLabelledBy:q,ariaDescribedBy:Y,onDismiss:R,shouldRestoreFocus:!u},v.createElement("div",{className:pe.root,role:_?void 0:"document"},!_&&v.createElement(na,I({"aria-hidden":!0,isDarkThemed:w,onClick:O?void 0:R,allowTouchBodyScroll:a},E)),M?v.createElement(la,{handleSelector:M.dragHandleSelector||"#"+B,preventDragSelector:"button",onStart:Ba,onDragChange:Ea,onStop:Pa,position:dt},xt):xt)))||null});tt.displayName="Modal";function Ja(t){Fe({name:"Modal",props:t,deprecations:{onLayerDidMount:"layerProps.onLayerDidMount"}})}l(Ja,"useDebugWarnings");var at=he(tt,oa,void 0,{scope:"Modal",fields:["theme","styles","enableAriaHiddenSiblings"]});at.displayName="Modal";var H=S(P());var eo=ge(),ot="Toggle",rt=H.forwardRef(function(t,o){var e=t.as,a=e===void 0?"div":e,r=t.ariaLabel,n=t.checked,s=t.className,f=t.defaultChecked,d=f===void 0?!1:f,b=t.disabled,m=t.inlineLabel,u=t.label,O=t.offAriaLabel,y=t.offText,g=t.onAriaLabel,w=t.onChange,R=t.onChanged,i=t.onClick,E=t.onText,W=t.role,q=t.styles,X=t.theme,Y=Bt(n,d,H.useCallback(function(B,k){w==null||w(B,k),R==null||R(k)},[w,R])),A=Y[0],V=Y[1],U=eo(q,{theme:X,className:s,disabled:b,checked:A,inlineLabel:m,onOffMissing:!E&&!y}),J=A?g:O,_=Ne(ot,t.id),M=_+"-label",ee=_+"-stateText",de=A?E:y,fe=We(t,Ot,["defaultChecked"]),h=void 0;!r&&!J&&(u&&(h=M),de&&!h&&(h=ee));var p=H.useRef(null);jt(p),to(t,A,p),Fe({name:ot,props:t,deprecations:{offAriaLabel:void 0,onAriaLabel:"ariaLabel",onChanged:"onChange"},mutuallyExclusive:{checked:"defaultChecked"}});var j=l(function(B){b||(V(!A,B),i&&i(B))},"onClick"),F={root:{className:U.root,hidden:fe.hidden},label:{children:u,className:U.label,htmlFor:_,id:M},container:{className:U.container},pill:I(I({},fe),{"aria-disabled":b,"aria-checked":A,"aria-label":r||J,"aria-labelledby":h,className:U.pill,"data-is-focusable":!0,"data-ktp-target":!0,disabled:b,id:_,onClick:j,ref:p,role:W||"switch",type:"button"}),thumb:{className:U.thumb},stateText:{children:de,className:U.text,htmlFor:_,id:ee}};return H.createElement(a,I({ref:o},F.root),u&&H.createElement(Ie,I({},F.label)),H.createElement("div",I({},F.container),H.createElement("button",I({},F.pill),H.createElement("span",I({},F.thumb))),(A&&E||y)&&H.createElement(Ie,I({},F.stateText))))});rt.displayName=ot+"Base";var to=l(function(t,o,e){H.useImperativeHandle(t.componentRef,function(){return{get checked(){return!!o},focus:function(){e.current&&e.current.focus()}}},[o,e])},"useComponentRef");var ao=40,da=20,st=12,fa=l(function(t){var o,e,a,r,n,s,f,d=t.theme,b=t.className,m=t.disabled,u=t.checked,O=t.inlineLabel,y=t.onOffMissing,g=d.semanticColors,w=d.palette,R=g.bodyBackground,i=g.inputBackgroundChecked,E=g.inputBackgroundCheckedHovered,W=w.neutralDark,q=g.disabledBodySubtext,X=g.smallInputBorder,Y=g.inputForegroundChecked,A=g.disabledBodySubtext,V=g.disabledBackground,U=g.smallInputBorder,J=g.inputBorderHovered,_=g.disabledBodySubtext,M=g.disabledText;return{root:["ms-Toggle",u&&"is-checked",!m&&"is-enabled",m&&"is-disabled",d.fonts.medium,{marginBottom:"8px"},O&&{display:"flex",alignItems:"center"},b],label:["ms-Toggle-label",{display:"inline-block"},m&&{color:M,selectors:(o={},o[$]={color:"GrayText"},o)},O&&!y&&{marginRight:16},y&&O&&{order:1,marginLeft:16},O&&{wordBreak:"break-word"}],container:["ms-Toggle-innerContainer",{display:"flex",position:"relative"}],pill:["ms-Toggle-background",Nt(d,{inset:-3}),{fontSize:"20px",boxSizing:"border-box",width:ao,height:da,borderRadius:da/2,transition:"all 0.1s ease",border:"1px solid "+U,background:R,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 3px"},!m&&[!u&&{selectors:{":hover":[{borderColor:J}],":hover .ms-Toggle-thumb":[{backgroundColor:W,selectors:(e={},e[$]={borderColor:"Highlight"},e)}]}},u&&[{background:i,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(a={":hover":[{backgroundColor:E,borderColor:"transparent",selectors:(r={},r[$]={backgroundColor:"Highlight"},r)}]},a[$]=I({backgroundColor:"Highlight"},Wt()),a)}]],m&&[{cursor:"default"},!u&&[{borderColor:_}],u&&[{backgroundColor:q,borderColor:"transparent",justifyContent:"flex-end"}]],!m&&{selectors:{"&:hover":{selectors:(n={},n[$]={borderColor:"Highlight"},n)}}}],thumb:["ms-Toggle-thumb",{display:"block",width:st,height:st,borderRadius:"50%",transition:"all 0.1s ease",backgroundColor:X,borderColor:"transparent",borderWidth:st/2,borderStyle:"solid",boxSizing:"border-box"},!m&&u&&[{backgroundColor:Y,selectors:(s={},s[$]={backgroundColor:"Window",borderColor:"Window"},s)}],m&&[!u&&[{backgroundColor:A}],u&&[{backgroundColor:V}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 8px",userSelect:"none",fontWeight:Rt.regular}}},m&&{selectors:{"&&":{color:M,selectors:(f={},f[$]={color:"GrayText"},f)}}}]}},"getStyles");var ua=he(rt,fa,void 0,{scope:"Toggle"});var ca=S(ie());var ma=S(P());var pa=S(Oe()),xa=l(({name:t,internalChange:o,ctx:e})=>{let a=(0,ma.useContext)(e),r=a.config.fields[t];if(!r)return null;let n=r.state,s="text";["number"].indexOf(n.type)>=0&&(s=n.type);let f=n.value;return f instanceof Date||(f=je(f)),isNaN(f)&&(f=new Date),(0,ca.jsx)(Ee,{value:f,formatDate:d=>{if(d instanceof Date&&!isNaN(d))return Pe(d)},onSelectDate:d=>{(0,pa.default)(a.db.data,t,d),typeof n.onChange=="function"&&n.onChange(d,{state:a,row:a.db.data,col:t}),o(d),n.render()}})},"WDate");var ye=S(ie());var nt=S(Oe()),be=S(P());var ga=l(({name:t,internalChange:o,ctx:e})=>{let a=xe(),r=(0,be.useContext)(e),n=r.config.fields[t];if(!n)return null;let s=n.state,f=s.fieldProps?s.fieldProps:{},d=f.readOnly?f.readOnly:!1,m=(0,be.useRef)({date:new Date,time:"00:00"}).current;return(0,be.useEffect)(()=>{let u=s.value;!!u&&!(u instanceof Date)?(m.date=je(u),m.time=`${String(m.date.getHours()).padStart(2,"0")}:${String(m.date.getMinutes()).padStart(2,"0")}`):!!u&&u instanceof Date&&(m.date=u,m.time=`${String(m.date.getHours()).padStart(2,"0")}:${String(m.date.getMinutes()).padStart(2,"0")}`),a()},[s.value]),(0,ye.jsx)("div",{className:"flex"},(0,ye.jsx)("div",{className:"w-full"},(0,ye.jsx)(Ee,{value:s.value?m.date:null,formatDate:u=>{if(u instanceof Date&&!isNaN(u))return Pe(u)},onSelectDate:u=>{(0,nt.default)(r.db.data,t,u),typeof s.onChange=="function"&&s.onChange(u,{state:r,row:r.db.data,col:t}),o(u),s.render()},disabled:d})),(0,ye.jsx)("div",{className:"ml-2",style:{width:62}},(0,ye.jsx)(Je,{className:"text-center",mask:"99:99",value:m.time,onBlur:u=>{let y=u.target.value.replace("_",0).split(":");Number(y[0])>23&&(y[0]=23),Number(y[1])>59&&(y[1]=59),m.time=y.join(":"),m.date.setHours(Number(y[0])),m.date.setMinutes(Number(y[1])),(0,nt.default)(r.db.data,t,m.date),typeof s.onChange=="function"&&s.onChange(m.date,{state:r,row:r.db.data,col:t}),o(m.date),s.render()},disabled:d})))},"WDateTime");var De=S(ie());var Se=S(P());var Ke=S(Oe()),ha=S(La()),ae=l(({name:t,internalChange:o,ctx:e})=>{let r=(0,Se.useRef)({init:!1,value:""}).current,n=(0,Se.useContext)(e),s=n.config.fields[t],f=xe();if(!s)return null;let d=s.state;(0,Se.useEffect)(()=>{r.value=d.value||"",d.type==="money"&&r.init===!1&&(r.value=va(r.value)),r.init=!0,f()},[d.value]);let b="text",m=1,u=!0;return d.type==="password"&&(b="password"),r.init?(0,De.jsx)(React.Fragment,null,(0,De.jsx)(Be,{name:t,css:De.css`
          .ms-TextField-fieldGroup,
          textarea {
            min-height: 30px !important;
          }
        `,...d.fieldProps,value:r.value,type:b,onKeyDown:O=>{O.key==="Enter"&&d.type!=="multiline"&&(O.stopPropagation(),O.preventDefault(),d.parent?.db.save())},multiline:d.type==="multiline",autoAdjustHeight:u,rows:m,onBlur:()=>{d.type==="money"&&(r.value=va(r.value),d.render())},canRevealPassword:!0,onFocus:()=>{d.type==="money"&&(r.value=r.value.replace(/\D/g,""),d.render())},onChange:(O,y)=>{(0,Ke.default)(n.db.data,t,y);let g=(0,ha.default)(n.db.data,t);if(typeof d.onChange=="function"&&d.onChange(g,{state:n,row:n.db.data,col:t}),g&&["number","money"].indexOf(d.type)>=0){let w=Number(g.replace(/\D/g,""));(0,Ke.default)(n.db.data,t,w)}if(g&&["decimal"].indexOf(d.type)>=0){let w=g.replace(",",".").replace(/[^\d\.]/g,"").replace(/\./,"x").replace(/\./g,"").replace(/x/,".");(0,Ke.default)(n.db.data,t,w)}o(g)}})):(0,De.jsx)(React.Fragment,null,"not init")},"WText"),va=l(t=>{let o="";if(!t)return"-";let e=t.toString().split("").reverse().join("");for(var a=0;a<e.length;a++)a%3==0&&(o+=e.substr(a,3)+".");return o.split("",o.length-1).reverse().join("")},"money");var Qe=S(ie()),ya=S(P());var ba=l(({ctx:t,name:o})=>{let a=(0,ya.useContext)(t).config.fields[o];if(!a)return null;let r=a.state;return(0,Qe.jsx)(zt,null,(0,Qe.jsx)("span",{className:"opacity-50"},"Field type ",(0,Qe.jsx)("span",{className:"text-red-700"},"[",r.type,"]")," dalam pengerjaan"))},"WUnknown");var le=S(ie());var Da=S(P());var Sa=l(({ctx:t,name:o})=>{let a=(0,Da.useContext)(t).config.fields[o];if(!a)return null;let r=a.state;return(0,le.jsx)(React.Fragment,null,(0,le.jsx)("div",{className:"flex self-stretch items-stretch select-none relative px-1 -mx-2",css:le.css`
          padding-top: 10px;
          min-height: 36px;
        `},(0,le.jsx)("div",{className:"absolute z-0 inset-x-0 border-b mt-4 border-gray-300"}),(0,le.jsx)(Ie,{className:"absolute bg-white z-10 px-1 text-sm text-gray-400"},gt(o))))},"WSection");var ze=S(ie());var ka=S(Oe()),Ta=S(P()),Oa=l(({name:t,internalChange:o,ctx:e})=>{let a=(0,Ta.useContext)(e),r=a.config.fields[t];if(!r)return null;let n=r.state;return(0,ze.jsx)(ua,{css:ze.css`
        margin: 0px;
        padding: 0px 0px;
        height: 34px;

        align-items: center;
        display: flex;
        border-radius: 2px;
      `,defaultChecked:!!n.value,onText:"Yes",offText:"No",onChange:(s,f)=>{(0,ka.default)(a.db.data,t,f),typeof n.onChange=="function"&&n.onChange(f,{state:a,row:a.db.data,col:t}),o(f),n.render()}})},"WBoolean");var D=S(ie());var G=S(P());var it=S(Oe()),Ca=l(t=>{let o=xe(),e=(0,G.useContext)(t.ctx),a=e.config.fields[t.name];if(!a)return null;let r=a.state,s=(0,G.useRef)({value:"",get isImage(){return!!(s.value&&typeof s.value=="string"&&s.value.match(/[^/]+(jpg|png|gif|jpeg|svg)$/))},modal:!1,progress:100,showBrowse:!1,loading:!1}).current,f=r.fieldProps;(0,G.useEffect)(()=>{s.value=r.value,o()},[r.value]);let d=l(async b=>{if(b.target.files.length&&b.target.files.length){let m=b.target.files,u=m[0].name.split(".").pop(),O="public";e.db.tableName&&(O=`${e.db.tableName}/${t.name}`);let y=new File([m[0].slice(0,m[0].size,m[0].type)],`${Ia()}.${u}`,{type:m[0].type}),g=`/upload/${O}/${y.name}`,w=new FormData;w.append(O,y),s.loading=!0,o(),await oo("/__upload",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"},body:w},R=>{let i=R.loaded/R.total*100;s.progress=i,o()}),s.loading=!1,s.value=g,o(),(0,it.default)(e.db.data,t.name,g),typeof r.onChange=="function"&&r.onChange(g,{state:e,row:e.db.data,col:t.name}),t.internalChange(g)}},"_onChange");return(0,D.jsx)("div",{className:"flex flex-col items-stretch"},(0,D.jsx)("div",{className:"relative",css:D.css`
                min-height: 25px;
                border: 1px dashed #ccc;
                border-bottom: 0px;
              `},(0,D.jsx)("div",{className:"absolute w-full t-0 x-0",css:D.css`
                  div {
                    padding: 0px;
                  }
                `},s.progress<100&&(0,D.jsx)(Kt,{percentComplete:s.progress<=0?void 0:s.progress/100})),!s.value&&(0,D.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-gray-400",css:D.css`
                    font-size: 9px;
                  `},"Empty"),typeof s.value=="string"&&s.value&&(0,D.jsx)(G.Fragment,null,s.isImage?(0,D.jsx)(G.Fragment,null,(0,D.jsx)("div",{className:"flex flex-col items-stretch p-1 cursor-pointer",onClick:()=>{s.modal=!0,o()},css:D.css`
                          background-image: linear-gradient(
                              45deg,
                              #d1d1d1 25%,
                              transparent 25%
                            ),
                            linear-gradient(
                              -45deg,
                              #d1d1d1 25%,
                              transparent 25%
                            ),
                            linear-gradient(45deg, transparent 75%, #d1d1d1 75%),
                            linear-gradient(
                              -45deg,
                              transparent 75%,
                              #d1d1d1 75%
                            );
                          background-size: 20px 20px;
                          background-position: 0 0, 0 10px, 10px -10px,
                            -10px 0px;
                        `},(0,D.jsx)("img",{css:D.css`
                            max-height: 90px;
                            object-fit: scale-down;
                            object-position: center;
                          `,src:s.value,alt:t.name})),(0,D.jsx)(at,{isOpen:s.modal,onDismiss:()=>{s.modal=!1,o()},styles:{scrollableContent:{maxHeight:"auto"}},allowTouchBodyScroll:!0},(0,D.jsx)("img",{css:D.css`
                            background-image: linear-gradient(
                                45deg,
                                #d1d1d1 25%,
                                transparent 25%
                              ),
                              linear-gradient(
                                -45deg,
                                #d1d1d1 25%,
                                transparent 25%
                              ),
                              linear-gradient(
                                45deg,
                                transparent 75%,
                                #d1d1d1 75%
                              ),
                              linear-gradient(
                                -45deg,
                                transparent 75%,
                                #d1d1d1 75%
                              );
                            background-size: 20px 20px;
                            background-position: 0 0, 0 10px, 10px -10px,
                              -10px 0px;
                          `,onClick:()=>{s.modal=!1,o()},src:s.value,alt:t.name,className:"object-fill max-h-screen cursor-pointer"}))):(0,D.jsx)("a",{href:s.value,target:"_blank",className:"flex flex-row justify-center px-1 py-4 font-semibold text-blue-800 cursor-pointer",css:D.css`
                        font-size: 12px;
                      `},"Download"," ",(s.value.split(".").pop()||"").toUpperCase()," File"," ",(0,D.jsx)(Ce,{className:"ml-1",iconName:"Download"})))),(0,D.jsx)("div",{className:"flex flex-row items-center justify-between font-semibold select-none ",css:D.css`
                min-height: 32px;
                border: 1px dashed #ccc;
                font-size: 12px;
                ${""}
              `},(0,D.jsx)("div",{className:"relative flex-1 text-gray-500 hover:text-blue-500",css:D.css`
                  min-height: 32px;
                `},(0,D.jsx)("div",{className:`absolute 
                 inset-0 flex items-center pl-3 w-full h-full
                  pointer-events-none ${s.value?"pl-3":"justify-center"}`},"Click here to upload"),(0,D.jsx)("input",{multiple:!1,type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:d,accept:f?f.acceptFile:null})),s.value&&(0,D.jsx)("div",{className:"px-4 text-xs text-red-400 cursor-pointer",onClick:()=>{confirm("Are you sure want to clear uploaded file?")&&(s.value=null,o(),(0,it.default)(e.db.data,t.name,null),typeof r.onChange=="function"&&r.onChange(null,{state:e,row:e.db.data,col:t.name}),t.internalChange(null))}},"Clear")))},"WFileUpload");function oo(t,o={},e){return new Promise((a,r)=>{let n=new XMLHttpRequest;n.open(o.method||"get",t,!0),Object.keys(o.headers||{}).forEach(s=>{n.setRequestHeader(s,o.headers[s])}),n.onload=s=>a(s.target.responseText),n.onerror=r,n.upload&&e&&(n.upload.onprogress=e),n.send(o.body)})}l(oo,"request");var Ia=l((t="")=>t?((Number(t)^Math.random()*16)>>Number(t)/4).toString(16):`${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g,Ia),"getUuid");var $r={number:ae,string:ae,text:ae,password:ae,money:ae,multiline:ae,date:xa,datetime:ga,select:$t,boolean:Oa,"belongs-to":Zt,unknown:ba,info:Qt,section:Sa,decimal:ae,file:Ca};export{$r as default};
//# sourceMappingURL=fields-2BRUNP77.js.map
